{"ast":null,"code":"import { history } from \"../../App\";\nimport { userManagermentService } from \"../../services/UserManagermentService\";\nimport { GET_USER_LIST, SIGN_IN, SIGN_UP } from \"../types/userManagermentType\";\nimport Swal from 'sweetalert2';\nexport const signInAction = (DangNhap, setShowModal) => {\n  return async dispatch => {\n    try {\n      const result = await userManagermentService.signIn(DangNhap);\n      console.log({\n        result\n      });\n      if (result.status === 200) {\n        dispatch({\n          type: SIGN_IN,\n          thongTinDangNhap: result.data\n        });\n        history.goForward();\n        setShowModal(false);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const signUpAction = (DangKy, countDown) => {\n  return async dispatch => {\n    try {\n      const result = await userManagermentService.signUp(DangKy);\n      console.log({\n        result\n      });\n      if (result.status === 200) {\n        dispatch({\n          type: SIGN_UP,\n          thongTinDangKy: result.data\n        });\n        //Redirect to previous page\n        history.goBack(\"/signin\");\n        countDown();\n      }\n    } catch (error) {\n      var _error$response;\n      console.log((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    }\n  };\n};\nexport const getUserListAction = function () {\n  let tuKhoa = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return async dispatch => {\n    try {\n      const result = await userManagermentService.getUserList(tuKhoa);\n      dispatch({\n        type: GET_USER_LIST,\n        userList: result.data\n      });\n    } catch (error) {\n      var _error$response2;\n      console.log((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n    }\n  };\n};\nexport const deleteUserAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      let result = await userManagermentService.deleteUser(taiKhoan);\n      console.log('result', result.data.content);\n      Swal.fire({\n        title: 'Xóa thành công!',\n        icon: 'success',\n        confirmButtonColor: '#44c020'\n      }).then(result => {\n        if (result.isConfirmed) {\n          dispatch(getUserListAction());\n        }\n      });\n    } catch (error) {\n      var _error$response3;\n      console.log('error', (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data);\n      Swal.fire({\n        title: 'Xóa thất bại!',\n        icon: 'error'\n      });\n    }\n  };\n};\nexport const updateUserAction = capNhat => {\n  capNhat.maNhom = \"GP01\";\n  return async dispatch => {\n    try {\n      let result = await userManagermentService.updateUser(capNhat);\n      console.log('result', result.data.content);\n      Swal.fire({\n        title: 'Cập nhật thành công!',\n        icon: 'success',\n        confirmButtonColor: '#44c020'\n      }).then(result => {\n        if (result.isConfirmed) {\n          dispatch(getUserListAction());\n          history.push('/admin/users');\n        }\n      });\n    } catch (error) {\n      var _error$response4;\n      console.log((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data);\n      Swal.fire({\n        title: 'Cập nhật thất bại!',\n        icon: 'error'\n      });\n    }\n  };\n};\nexport const addUserAction = thongTinNguoiDung => {\n  thongTinNguoiDung.maNhom = \"GP01\";\n  return async dispatch => {\n    try {\n      let result = await userManagermentService.addUser(thongTinNguoiDung);\n      console.log('result', result.data.content);\n      Swal.fire({\n        title: 'Thêm thành công!',\n        icon: 'success',\n        confirmButtonColor: '#44c020'\n      }).then(result => {\n        if (result.isConfirmed) {\n          dispatch(getUserListAction());\n          history.push('/admin/users');\n        }\n      });\n    } catch (error) {\n      var _error$response5;\n      console.log((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data);\n      Swal.fire({\n        title: 'Thêm thất bại!',\n        // text: `${errors.response?.data}`,\n        icon: 'error'\n      });\n    }\n  };\n};","map":{"version":3,"names":["history","userManagermentService","GET_USER_LIST","SIGN_IN","SIGN_UP","Swal","signInAction","DangNhap","setShowModal","dispatch","result","signIn","console","log","status","type","thongTinDangNhap","data","goForward","error","signUpAction","DangKy","countDown","signUp","thongTinDangKy","goBack","response","getUserListAction","tuKhoa","getUserList","userList","deleteUserAction","taiKhoan","deleteUser","content","fire","title","icon","confirmButtonColor","then","isConfirmed","updateUserAction","capNhat","maNhom","updateUser","push","addUserAction","thongTinNguoiDung","addUser"],"sources":["C:/Users/ADMIN/Desktop/cuoicungnha/32E-Capstone_E-learning_Tran_Thi_Han-Nguyen_Dang_Khoi/src/redux/actions/userManagermentAction.js"],"sourcesContent":["import { history } from \"../../App\";\r\nimport { userManagermentService } from \"../../services/UserManagermentService\";\r\nimport {GET_USER_LIST, SIGN_IN, SIGN_UP } from \"../types/userManagermentType\";\r\n\r\nimport Swal from 'sweetalert2'\r\n\r\nexport const signInAction = (DangNhap, setShowModal) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagermentService.signIn(DangNhap);\r\n      console.log({ result });\r\n\r\n      if (result.status === 200) {\r\n        dispatch({\r\n          type: SIGN_IN,\r\n          thongTinDangNhap: result.data,\r\n        });\r\n\r\n        history.goForward();\r\n        setShowModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const signUpAction = (DangKy, countDown) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagermentService.signUp(DangKy);\r\n      console.log({ result });\r\n\r\n      if (result.status === 200) {\r\n        dispatch({\r\n          type: SIGN_UP,\r\n          thongTinDangKy: result.data,\r\n        });\r\n        //Redirect to previous page\r\n        history.goBack(\"/signin\");\r\n        countDown();\r\n      }\r\n    } catch (error) {\r\n      console.log(error.response?.data);\r\n    }\r\n  };\r\n};\r\nexport const getUserListAction = (tuKhoa='') => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagermentService.getUserList(tuKhoa);\r\n\r\n      dispatch({\r\n        type: GET_USER_LIST,\r\n        userList: result.data,\r\n      });\r\n    } catch (error) {\r\n      console.log(error.response?.data);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUserAction = (taiKhoan)=>{\r\n    return async(dispatch)=>{\r\n      try {\r\n        let result = await userManagermentService.deleteUser(taiKhoan);\r\n        console.log('result',result.data.content);\r\n        Swal.fire({\r\n          title: 'Xóa thành công!',\r\n          icon: 'success',\r\n          confirmButtonColor: '#44c020'\r\n        }).then((result)=>{\r\n          if(result.isConfirmed){\r\n            dispatch(getUserListAction())\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.log('error',error.response?.data);\r\n            Swal.fire({\r\n                title: 'Xóa thất bại!',\r\n                icon: 'error',\r\n            })\r\n      }\r\n}\r\n}\r\n\r\nexport const updateUserAction =(capNhat) =>{\r\n  capNhat.maNhom =\"GP01\";\r\n  return async(dispatch) =>{\r\n    try {\r\n      let result = await userManagermentService.updateUser(capNhat);\r\n      console.log('result',result.data.content);\r\n          Swal.fire({\r\n              title: 'Cập nhật thành công!',\r\n              icon: 'success',\r\n              confirmButtonColor: '#44c020'\r\n          }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                  dispatch(getUserListAction())\r\n                  history.push('/admin/users')\r\n              }\r\n          })\r\n\r\n\r\n\r\n    } catch (error) {\r\n        console.log(error.response?.data);\r\n        Swal.fire({\r\n            title: 'Cập nhật thất bại!',\r\n            icon: 'error',\r\n        })\r\n  }\r\n  }\r\n}\r\n\r\nexport const addUserAction = (thongTinNguoiDung) => {\r\n  thongTinNguoiDung.maNhom =\"GP01\";\r\n  return async (dispatch) => {\r\n    try {\r\n        let result = await userManagermentService.addUser(thongTinNguoiDung);\r\n        console.log('result',result.data.content);\r\n            Swal.fire({\r\n                title: 'Thêm thành công!',\r\n                icon: 'success',\r\n                confirmButtonColor: '#44c020'\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    dispatch(getUserListAction())\r\n                    history.push('/admin/users')\r\n                }\r\n            })\r\n\r\n\r\n    } catch (error) {\r\n        console.log(error.response?.data);\r\n        Swal.fire({\r\n            title: 'Thêm thất bại!',\r\n            // text: `${errors.response?.data}`,\r\n            icon: 'error',\r\n        })\r\n    }\r\n}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}